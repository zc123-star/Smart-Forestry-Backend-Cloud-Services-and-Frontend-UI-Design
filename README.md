# -Smart Forestry Backend Cloud Services and Frontend UI Design-
用户界面与交互模块
本模块基于 Vue3+TypeScript 构建跨终端交互系统，通过组件化架构将机器学习模型推理、图像处理结果、碳汇预测与大语言模型建议等转化为可视化操作界面，针对农户与研究人员的差异化需求提供功能分级服务。采用响应式设计适配桌面端与移动端，桌面端提供全功能操作面板，移动端优化核心数据展示，确保跨设备体验一致性。前端服务独立部署在服务器B（火山云服务器）上，实现了前后端分离。

技术架构设计：
前端框架与构建系统以 Vue3+TypeScript 为核心，采用 Composition API 实现逻辑复用与状态管理，配合 Vite 4.x 构建工具实现热模块替换（HMR），开发环境启动时间控制在 3 秒内；通过严格类型检查保障数据流转安全性，定义 SensorData、ModelPrediction 等 23 个核心接口；样式解决方案采用 Scoped CSS+CSS Modules 混合策略，既避免样式污染又支持组件个性化设计。
组件层次结构:
以 App.vue 为应用入口，负责路由管理与全局状态维护；MainPage.vue 作为主仪表盘，提供数据概览与快速操作入口；AiTools.vue 为研究人员专属功能区，包含图像识别、光谱分析、碳汇预测、大语言模型交互四个子模块；api/sensor.ts 封装数据请求逻辑，统一处理前后端通信。
核心功能模块实现:
数据可视化仪表盘通过 MainPage.vue 的卡片式布局呈现多维度监测数据：实时数据展示采用响应式绑定实现环境温度、湿度等指标的动态更新，通过空值处理语法（{{environmentData?.temperature || 0}}）保障界面稳定性；设计 dashboard-card 组件体系，通过 small-card、env-card 等修饰类区分视觉层次；当传感器数据超出阈值时，集成 ECharts 实现当日数据趋势展示，支持缩放、平移与区域选择交互。
AI 工具集界面聚焦研究人员专业需求，实现模型推理与可视化的深度融合：
图像识别：基于 input [type=file] 封装拖放上传区域，支持 JPG/PNG 格式验证与大小限制（≤5MB），选择图片后触发数个TS脚本，首先进行一个简单的预览，再点击上传后，触发TS脚本把图片上传至服务器并返回图片在服务器中的路径，最后点击预测分析后，把刚才的路径传入POST请求body中，随后调用对应后端API带有图片的一个算法识别，将结果作为进度条形式显示在页面上。
光谱数据分析：手动输入 21 个光谱特征值，提供数据校验；点击后触发TS脚本，把文本数据放入POST请求的Body中，调用后端API并返回结果显示，结果以进度条样式方便用户进行对比观察。、
碳汇预测：数据是由后端源源不断采集并进行存入数据库的，当点击获取结果后，自动触发TS脚本，向后端发生GET请求，获取预测数据。
大语言模型交互：点击后向后端发送GET请求，后端相应模块完成任务后，结果返回给用户页面，AI建议有两个模块，其中一个农户模块的AI是针对农田整体而言的，第二个模块是研究人员版本中，对具体植株的某个建议。
数据交互设计通过 sensor.ts 封装请求逻辑：采用 Vite 配置将 /api 路径代理至后端服务，解决跨域限制；定义 SensorResponse<T>泛型接口，统一处理成功 / 失败状态与错误信息；对静态数据（如地块信息）采用 localStorage 缓存，设置 12 小时过期时间；使用 Axios CancelToken 实现页面切换时的请求中断，避免无效数据返回。
数据交互层面采用 Axios 实现异步数据请求与网页生成，核心优势体现在三方面：一是通过异步请求模式避免页面整体刷新，在数据加载过程中保持界面交互性，例如图像识别时仅更新结果区域而不影响其他操作面板；二是支持请求拦截与响应拦截机制，可统一添加身份验证令牌、处理错误状态码（如 401 重定向登录、500 展示友好提示），简化跨模块异常处理逻辑；三是结合 Promise API 实现请求链式调用，例如光谱数据分析时，先通过 Axios 发送特征值请求，再在响应回调中触发结果渲染函数，确保数据流转与界面更新的时序一致性，提升复杂操作场景下的用户体验。
性能与兼容性方面，前端性能优化通过路由级懒加载控制初始包体积在 150KB 以内；采用 WebP 格式与响应式图片策略优化图像加载；大数据列表（>1000 条）使用 vue-virtual-scroller 实现高效渲染；借助 Vue3 的 computed 特性缓存派生数据，避免重复计算。兼容性适配覆盖 Chrome 88+、Firefox 85+、Edge 90 + 等现代浏览器，通过 360px/768px/1200px 断点设置实现跨设备适配，符合 WCAG 2.1 AA 标准支持无障碍访问，配置 PWA 实现核心功能的离线使用。


